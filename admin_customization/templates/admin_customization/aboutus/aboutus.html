{% extends "admin_customization/Index.html" %}

{% block title %}
    Manage About Us
{% endblock %}

{% block admin_extra_css %}
<style>
.table-white {
    background-color: white;
    border-radius: 10px; /* Adjust the value as needed */
    overflow: hidden; /* Ensures the rounded corners are visible */
}
</style>

{% endblock %}

{% block admin_content %}
<div class="container-fluid py-4">

    <h2 class="mb-4 text-center">Contact Us</h2>

    <!-- Support Info Section -->
    <h3 class="mt-5">Support Information</h3>
    {% if support_info_list.count > 0 %}
        <a href="{% url 'add_support_info' %}" class="d-none">Add Support Info</a>
    {% else %}
        <a href="{% url 'add_support_info' %}" class="btn btn-primary mb-3">Add Support Info</a>
    {% endif %}
    <table class="table table-bordered table-white">
        <thead>
            <tr>
                <th>Title</th>
                <th>Description</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for info in support_info_list %}
                <tr>
                    <td>{{ info.title }}</td>
                    <td>{{ info.description|truncatewords:15 }}</td>
                    <td>
                        <a href="{% url 'edit_support_info' info.id %}" class="btn btn-warning">Edit</a>
                        <a href="{% url 'delete_support_info' info.id %}" class="btn btn-danger" 
                           onclick="return confirm('Are you sure you want to delete this support info?');">Delete</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <h2 class="my-5 text-center">About Us</h2>

    <!-- About Us Section -->
    <h3>About Us Content</h3>
    {% if about_us_content.count > 0 %}
        <a href="{% url 'add_aboutus_content' %}" class="d-none">Add About Us Content</a>
    {% else %}
        <a href="{% url 'add_aboutus_content' %}" class="btn btn-primary mb-3">Add About Us Content</a>
    {% endif %}
    <table class="table table-bordered table-white">
        <thead>
            <tr>
                <th>Title</th>
                <th>Description</th>
                <th>Image</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for content in about_us_content %}
                <tr>
                    <td>{{ content.title }}</td>
                    <td>{{ content.description|safe|truncatewords:15 }}</td>
                    <td>
                        {% if content.image %}
                            <img src="{{ content.image.url }}" alt="{{ content.title }}" height="50">
                        {% endif %}
                    </td>
                    <td>
                        <a href="{% url 'edit_aboutus_content' content.id %}" class="btn btn-warning">Edit</a>
                        <a href="{% url 'delete_aboutus_content' content.id %}" class="btn btn-danger" 
                           onclick="return confirm('Are you sure you want to delete this item?');">Delete</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Features Section -->
    <h3 class="mt-5">Features</h3>
    <a href="{% url 'add_feature' %}" class="btn btn-primary mb-3">Add Feature</a>
    <table class="table table-bordered table-white">
        <thead>
            <tr>
                <th>Title</th>
                <th>Description</th>
                <th>Icon</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for feature in features %}
                <tr>
                    <td>{{ feature.title }}</td>
                    <td>{{ feature.description|truncatewords:15 }}</td>
                    <td>{{ feature.icon }}</td>
                    <td>
                        <a href="{% url 'edit_feature' feature.id %}" class="btn btn-warning">Edit</a>
                        <a href="{% url 'delete_feature' feature.id %}" class="btn btn-danger" 
                           onclick="return confirm('Are you sure you want to delete this feature?');">Delete</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Team Members Section -->
    <h3 class="mt-5">Team Members</h3>
    <a href="{% url 'add_team_member' %}" class="btn btn-primary mb-3">Add Team Member</a>
    <table class="table table-bordered table-white">
        <thead>
            <tr>
                <th>Name</th>
                <th>Title</th>
                <th>LinkedIn</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for member in team_members %}
                <tr>
                    <td>{{ member.name }}</td>
                    <td>{{ member.title }}</td>
                    <td>
                        {% if member.linkedin_url %}
                            <a href="{{ member.linkedin_url }}" target="_blank">LinkedIn</a>
                        {% endif %}
                    </td>
                    <td>
                        <a href="{% url 'edit_team_member' member.id %}" class="btn btn-warning">Edit</a>
                        <a href="{% url 'delete_team_member' member.id %}" class="btn btn-danger" 
                           onclick="return confirm('Are you sure you want to delete this team member?');">Delete</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <h2 class="my-5 text-center">privacy policy</h2>

    <!-- About Us Section -->
    <h3>privacy policy</h3>
    {% if add_privacy_policy_content.count > 0 %}
        <a href="{% url 'add_privacy_policy_content' %}" class="d-none">Add Privacy Policy Content</a>
    {% else %}
        <a href="{% url 'add_privacy_policy_content' %}" class="btn btn-primary mb-3">Add Privacy Policy Content</a>
    {% endif %}
    <table class="table table-bordered table-white">
        <thead>
            <tr>
                <th>Title</th>
                <th>Description</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for content in Privacy_Policy %}
                <tr>
                    <td>{{ content.title }}</td>
                    <td>{{ content.content|safe|truncatewords:15}}</td>
                    <td>
                        <a href="{% url 'edit_privacy_policy_content' content.id %}" class="btn btn-warning">Edit</a>
                        <a href="{% url 'delete_privacy_policy_content' content.id %}" class="btn btn-danger" 
                           onclick="return confirm('Are you sure you want to delete this item?');">Delete</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

</div>
{% endblock %}
